<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Regression Diagnostics</title>
  <!-- Bootstrap -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <!-- Navbar -->
  <link rel="stylesheet" type="text/css" href='../../static/css/navbar.css' )>

  <!-- Footer -->
  <link rel="stylesheet" type="text/css" href='../../static/css/footer.css' )>

  <!-- General Themes -->
  <link rel="stylesheet" type="text/css" href='../../static/css/theme.css' )>
  <link rel="stylesheet" type="text/css" href='../../static/css/general_landing.css' )>
  <link rel="stylesheet" type="text/css" href='../../static/css/post-table.css' )>

  <!-- JUPYTER NOTEBOOK CSS STYLES -->
  <link rel="stylesheet" type="text/css" href='../../static/css/jn_styling.css' )>
</head>


<body>
  <div id="page-container">
    <div id="content-wrap">
      <div w3-include-html="/folders/navbar_footer/navbar_pages.html"></div>


      <!-- all other page content -->
      <!-- Webpage title -->
      <div class="title">
        <h1>Diagnostic Plots for Linear Regression Analysis in Python.</h1>
      </div>

      <!-- Last updated -->
      <!-- Last updated -->
      <div class="date_updated">
        <p class="post-timestamp">First Posted: 8-23-2020<br>
          Last Updated: 8-23-2020</p>
      </div>

      <!-- Main container for the subfield -->

      <!-- Sets up bootstrap - this page only has one row -->
      <div class="row">

        <!-- The first column of this row is size 4 - the background panel -->
        <div class="col-sm-12">

          <!-- Side panel container for background information -->
          <div class="background-panel">
            <div class="caption">
              <p>Background Info</p>
            </div>
            <div class="background-info">
              <a href="projects/polynomial_regression/images/diagnosticplots.png">
                <img src="projects/polynomial_regression/images/diagnosticplots.png" alt="html"
                  class="background-pic" width="50%" height="100%"></a>
              <div class="background-img-caption">
                <p></p>
              </div>
              <br>

              <p class="general-p">
                <B>Linear Regression and the need for <em>Diagnostic Plots</em></B><br>
                Linear regression is one of the most commonly used machine learning model.  This model assumes that the relationship between the predictor (x) and the outcome variable (y) is linear, and the slope coefficients, and R^2 values are used to tell us how good the model is at representing the data.  This is not the whole story, and in fact, some relationships are better explained  using different mathematical models (polynomial, logarithmic).  <br>
                The reason this is important to discuss is that operating under false assumptions will result in poor model performance.
              </p>
              <p class="general-p">
                  <B>Residuals</B> is the difference between the observed value and the mean value that the model predicts for that observation.  Residuals are useful showing how poorly a model represents the data, and more importantly, if the linear regression assumptions are met.
              </p>
              <br>
              <p class="general-p">
                <B>Linear Regression Assumptions</B><br>
                <ul>
                    <li><font color="Red">Linearity:</font> The relationship between X and the mean of Y is linear.</li>
                    <li><font color="Red">Homoscedasticity:</font> The variance of residual is the same for any value of X.</li>
                    <li><font color="Red">Independence:</font> Observations are independent of each other.</li>
                    <li><font color="Red">Normality:</font> For any fixed value of X, Y is normally distributed.</li>
                </ul>
              </p>
              <br>
                <p class="general-p">
                    <B>Other key points that may influence and/or leverage the regression model.</B><br>
                    <ul>
                        <li><font color="Red">Outliers:</font> an observation that has a large residual (it is very different from that predicted by the model).</li>
                        <li><font color="Red">Leverage points:</font> An observation that has a value of x that is very far from the mean of x.</li>
                        <li><font color="Red">Influential observations:</font> an observation that can change the slope of the line, and have a large influence on the fit of the model.</li>
                    </ul>
                  </p>              
                  <br>
                  <p class="general-p">
                      <B>Diagnostic Plots for Linear Regression</B><br>
                      
                    </p>
                    <br>                 
              <p class="general-p">
                <B>Why is this important?</B><br>
                To test if the data can be described by a linear regression, several diagnostic plots have been developed.  Learning how to use these tools are essential when conducting an regression analysis. Five plots will be described in this post.
                <ol>
                  <li>Residual Histogram</li>
                  <li>Residuals vs Fitted</li>
                  <li>Normal Q-Q Plot</li>
                  <li>Scale-Location</li>
                  <li>Residuals vs Leverage</li>
                </ol> 
              </p>

              <p class="general-p"><strong>The project goals</strong>
                <ol>
                  <li>To illustrate how to use each diagnostic plot listed above.</li>
                  <li>To describe how to interpret the plots.</li>
                </ol>
              </p>
            </div>
            <div class="resources">
              <div class="sub-title">
                <h4>Resources & Citations</h4>
              </div>
              <ul class="resources-ul">Links valid as of 8/23/20.
                <li><a href="https://data.library.virginia.edu/diagnostic-plots/">Understanding Diagnostic Plots for Linear Regression Analysis, Bommae Kim, University of Virginia Library, Sep 21, 2015</a></li>
                <li><a href="https://sphweb.bumc.bu.edu/otlt/MPH-Modules/BS/R/R5_Correlation-Regression/R5_Correlation-Regression7.html">Regression Diagnostics, Boston University School of Public Health 1/6/16.</a></li>
                <li><a href="https://scikit-learn.org/stable/datasets/index.html">Boston Dataset.</a></li>
                <li><a href="https://robert-alvarez.github.io/2018-06-04-diagnostic_plots/">Creating Diagnostic Plots in Python
                  and how to interpret them. Robert Alvarez. 6/4/18</a></li>                          
              </ul>
            </div>
          </div>

          <div class="sub-section">
            <div class="table_of_contents">
              <p class="content-list">
                <center>
                  <h4>Research Objectives</h4>
                </center>
                <ol>
                  <li><a href="#objective1">Data extraction, transformation, loading, and exploring pipeline.</a></li>
                  <li><a href="#objective2">Residual Histogram</a></li>
                  <li><a href="#objective3">Residuals vs Fitted</a></li>
                  <li><a href="#objective4">Normal Q-Q Plot</a></li>
                  <li><a href="#objective5">Scale-Location</a></li>
                  <li><a href="#objective5">Residuals vs Leverage</a></li>
                </ol>
              </p>
            </div>
            <hr class="sec-div">
            <p class="sub-title">
              <h4>Methods</h4>
            </p>
            <div id="methods">
              <p class="general-p">
                <strong><em>Data</em></strong>
                <br>
                <ol>
                  <li>The data for this project was obtained from sklearn datasets.</li>
                  <li>The boston house-price data is ideal for regression analysis, and contains 50-6 instances, 13 dimensions.</li>
                </ol>
              </p>
              <hr>
              <p class="general-p">
                <strong><em>Analysis</em><br></strong>
                The programming language Python was used in this project. The matplotlib and seaborn libraries was used
                to visualize the data. Pandas was used to wrangle the data, while numpy and statsmodels
                were used in the calculations and machine learning models.
              </p>
            </div>

            <hr class="sec-div">

            <div id="results">
              <p class="sub-title">
                <h4>Content:
                </h4>
              </p>

              <center>
                <a href="projects/polynomial_regression/diagnostic_plots.ipynb" download>Download Jupyter
                  Notebook</a>
              </center>

              <div id="objective1">
                <p class="general-p">

                  <strong><em>Data extraction, transformation, loading, and exploring pipeline</em></strong><br>
                </p>

                <div w3-include-html="projects/polynomial_regression/diagnostic_plots_part1.html"></div>
              </div>
              <hr>

              <div id="objective2">
                <p class="general-p">
                  <strong><em>Residual Histogram</em></strong><br>
                  &emsp;&emsp;&emsp;&emsp;
                </p>
                <div w3-include-html="projects/polynomial_regression/diagnostic_plots_part2.html"></div>

                <!-- END OF OBJ2 DIV -->
              </div>
              <hr>

              <div id="objective3">
                <p class="general-p">
                  <strong><em>Residuals vs Fitted.</em></strong><br>
                </p>
                <div w3-include-html="projects/polynomial_regression/diagnostic_plots_part3.html"></div>
              </div>
              <hr>

              <div id="objective4">
                <p class="general-p">
                  <strong><em>Normal Q-Q Plot</em></strong><br>
                </p>
                <div w3-include-html="projects/polynomial_regression/diagnostic_plots_part4.html"></div>
              </div>

              <hr>
              <div id="objective5">
                <p class="general-p">
                  <strong><em>Scale-Location</em></strong><br>

                </p>
                <div w3-include-html="projects/polynomial_regression/diagnostic_plots_part5.html"></div>
              </div>

              <hr>
              <div id="objective6">
                <p class="general-p">
                  <strong><em>Residuals vs Leverage</em></strong><br>

                </p>
                <div w3-include-html="projects/polynomial_regression/diagnostic_plots_part6.html"></div>
              </div>              
            </div>
          </div>

          <!-- ################################ TEMPLATES ########################## -->


          <!-- Figure template -->
          <!-- <a href="projects/">
                <img src="projects/" width="100%" height=100% class="figure"></img></a>
              <p class="figure_title"><strong>Figure 1. </strong>
              </p> -->

          <!-- Table template -->
          <!-- <p class="table_title"><strong>Table 1. </strong> Table title<br>
              </p>
              <a href="projects/">
                <img src="projects/" width="75%" height=100% class="table_img"></img></a> -->


          <!-- CLOSING DIV FOR SUB-SECTION -->
        </div>


        <!-- ################################ DO NOT ENTER ########################## -->
        <div class="sub-entry">
          <div w3-include-html="ds_blogs_table.html"></div>
        </div>
      </div>
      <!-- Div for the bootstrap row -->
    </div>
    <!-- CLOSING MAIN -->
    </main>
    <!-- CLOSING DIV FOR CONTENT-WRAPPER -->
    <!--This div for footer-page div-->
    <div w3-include-html="/folders/navbar_footer/footer.html"></div>
    <!-- CLOSING DIV FOR PAGE-CONTAINER -->
  </div>

  <!-- THESE ARE KEY FOR THE D3JS -->
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <!-- THIS IS TO ADD THE HEADER AND FOOTER -->
  <script type="text/javascript" src="../../static/js/include.js"></script>
  <!-- Mapping js -->
  <script type="text/javascript" src="projects/la_weapon_crimes/static/js/mapping.js"></script>
</body>

</html>