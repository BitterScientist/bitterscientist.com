<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Function-to-traverse-folders,-and-Merge-PDFs">Function to traverse folders, and Merge PDFs<a class="anchor-link" href="#Function-to-traverse-folders,-and-Merge-PDFs">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">traverse_folders</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">folders</span><span class="p">,</span> <span class="n">file_regex</span><span class="p">,</span> <span class="n">output_file</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">folder_</span> <span class="ow">in</span> <span class="n">folders</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;</span><span class="si">{directory}</span><span class="s1">/</span><span class="si">{folder_}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">file_regex</span><span class="p">)</span>
        <span class="n">paths</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()))</span>
        <span class="n">merger_pdf</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="n">paths</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 1</font></strong>:<br>
<code>def traverse_folders(directory, folders, file_regex, output_file):</code><br></p>
<p>Initializes the function and takes four parameters:</p>
<ul>
<li><em>directory:</em> the filepath that will be traversed</li>
<li><em>folders:</em> the list of folders that will be traversed</li>
<li><em>file_regex:</em> the pattern that will be used to match the pdf files that will be merged</li>
<li><em>output_file:</em> the file name that will be saved</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 2</font></strong>:<br>
<code>os.chdir(directory)</code><br></p>
<ul>
<li>changes the current working directory to the given path</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 3 for loop</font></strong>:<br>
<code>for folder_ in folders:</code><br></p>
<ul>
<li>for loop that will iterate through each folder that contains files that will be merged</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 4 inside the for loop</font></strong>:<br>
<code>os.chdir(f'{directory}/{folder_}')</code><br></p>
<ul>
<li>changes the current working directory to inside each folder</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 5 inside the for loop</font></strong>:<br>
<code>paths = glob.glob(file_regex)</code><br></p>
<ul>
<li>creates a list of files that match the specific pattern</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 6 inside the for loop</font></strong>:<br>
<code>paths.sort()</code><br></p>
<ul>
<li>sorts the list of files in alphabetic order</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 7 inside the for loop</font></strong>:<br>
<code>print(os.path.basename(os.getcwd()))</code><br></p>
<ul>
<li>prints the basename of the current directory so that we can monitor which folder has the pdf files merged</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 8 inside the for loop</font></strong>:<br>
<code>merger_pdf(output_file, paths)</code><br></p>
<ul>
<li>evokes the merger_pdf function that will merge the pdf files and takes two parameters</li>
<li><code>output_file</code> is the name of the file that will be saved</li>
<li><code>paths</code> is the list of files that are to merged</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><font color="red">Line 9 inside the for loop</font></strong>:<br>
<code>os.chdir(directory)</code><br></p>
<ul>
<li>changes the current working directory back to the original filepath, one branch above the folders that contain the files that will be merged. This will help so that we can move into a new folder to perform the merger function</li>
</ul>

</div>
</div>
</div>
 

