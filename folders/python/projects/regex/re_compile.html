<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Import-Module">Import Module<a class="anchor-link" href="#Import-Module">&#182;</a></h1><ul>
<li>Documentation: <a href="https://www.google.com/search?q=re+module+python&amp;oq=re+module+python&amp;aqs=chrome..69i57j0l7.1735j1j7&amp;sourceid=chrome&amp;ie=UTF-8">https://www.google.com/search?q=re+module+python&amp;oq=re+module+python&amp;aqs=chrome..69i57j0l7.1735j1j7&amp;sourceid=chrome&amp;ie=UTF-8</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Objective:-Use-Regex-to-count-the-number-of-lines-in-a-text-that-contains-a-string.">Objective: Use Regex to count the number of lines in a text that contains a string.<a class="anchor-link" href="#Objective:-Use-Regex-to-count-the-number-of-lines-in-a-text-that-contains-a-string.">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Method-re.compile()">Method <font color="red">re.compile()</font><a class="anchor-link" href="#Method-re.compile()">&#182;</a></h3><ul>
<li><strong>String to match:</strong> "fish"<br></li>
<li><strong>Text:</strong> "One fish two fish red fish blue fish" by Dr. Seuss.<br></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Function that will return the number of lines that contains the string</span>
<span class="k">def</span> <span class="nf">count_regex</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
    <span class="n">regex_line_index</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
    <span class="n">regexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">num</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">regexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">regex_line_index</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">regex_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="n">count</span><span class="p">,</span> <span class="s1">&#39;line_index&#39;</span><span class="p">:</span><span class="n">regex_line_index</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">regex_dict</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Explanation</strong><br></p>
<ul>
<li><code>regex_line_index = []</code><br></li>
<li>This initializes an empty list that will be used to store each line index that contains the string<br>
<br></li>
<li><code>count = 0</code><br></li>
<li>Creates the counting variable "count" and sets it to 0. This will be used to track the number of strings that regex recognizes and counts. <br> 
<br></li>
<li><code>file = open(file_path, 'r')</code><br></li>
<li>Uses python built-in function open() that opens a file and return a corresponding file object. mode 'r' argument indicates open for reading (default).  The file option is saves in the variable file for use.<br>
<br></li>
<li><code>regexp = re.compile("word")</code><br></li>
<li>saves the text "word" to a regexp variable<br> 
<br>
<code>for num, line in enumerate(file.readlines()):</code><br></li>
<li>for loop used to <code>enumerate</code> through each line in the file instance<br><ul>
<li><code>file.readlines()</code> is a method that returns a list containing each line in the file as a list item<br></li>
</ul>
</li>
<li>The index of each line will be obtained using the num variable<br></li>
<li>line will be the actual content in each line<br>
<br>
<code>if regexp.search(line):</code><br></li>
<li>if statement that checks for the pattern<br></li>
<li>the <code>.search()</code> method scan through string looking for the first location where this regular expression produces a match, and return a corresponding match object</li>
<li>if it detects the string pattern, then it will add a count<br></li>
<li>it will also add the line index to the regex_line_index list.
<br>
<code>file.close()</code><br></li>
<li>closes file<br>
<br></li>
</ul>
<p><code>regex_dict = {'count': count, 'line_index':regex_line_index}</code></p>
<ul>
<li>Creates a dictionary that stores the number of lines that a match was made, and the index of each line<br>
<br>
<code>return(regex_dict)</code><br></li>
<li>returns the dictionary that counts and index<br>
<br>
<strong><font color="red">LIMITATION</font></strong><br><ul>
<li>This method does not take capitalization into account</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Count-the-number-of-lines-that-contains-&quot;fish&quot;">Count the number of lines that contains <font color="blue">"fish"</font><a class="anchor-link" href="#Count-the-number-of-lines-that-contains-&quot;fish&quot;">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># String to search</span>
<span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;fish&quot;</span>

<span class="c1"># filepath to text saved to variable file</span>
<span class="n">file</span> <span class="o">=</span> <span class="s2">&quot;../../static/documents/seuss.rtf&quot;</span>

<span class="c1"># Invoke function</span>
<span class="n">count_regex</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{&#39;count&#39;: 6, &#39;line_index&#39;: [9, 10, 11, 12, 14, 20]}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this example, 6 lines were found that contained the string "fish" at index 9, 10, 11, 12, 14, and 20.<br>
<font color="red">But what if fish was capitalized "Fish"?</font></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Improve-pattern-recognition-with-the-special-characters">Improve pattern recognition with the special characters<a class="anchor-link" href="#Improve-pattern-recognition-with-the-special-characters">&#182;</a></h2><p><font color="red"> vertical-bar "|"</font>: means or, so the regular expression matches fish or Fish<br>
<font color="red"> paranthesis and vertical-bar ("|")</font>: chooses between two options a small or capital F.<br>
<font color="red"> bracket []</font>: the brackets will take a string of characters between them and match any single character in that string. <br></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">count_regex</span><span class="p">(</span><span class="s2">&quot;fish|Fish&quot;</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{&#39;count&#39;: 9, &#39;line_index&#39;: [9, 10, 11, 12, 13, 14, 15, 16, 20]}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">count_regex</span><span class="p">(</span><span class="s2">&quot;(f|F)ish&quot;</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{&#39;count&#39;: 9, &#39;line_index&#39;: [9, 10, 11, 12, 13, 14, 15, 16, 20]}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">count_regex</span><span class="p">(</span><span class="s2">&quot;[fF]ish&quot;</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{&#39;count&#39;: 9, &#39;line_index&#39;: [9, 10, 11, 12, 13, 14, 15, 16, 20]}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This increased the count by 3!</p>

</div>
</div>
</div>
 

